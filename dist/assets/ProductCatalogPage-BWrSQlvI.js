import{d as I,f as M,j,h as t,n as L,a as r,ab as J,ac as O,ad as W,u as X,s as K,g as R,ae as Y,af as Z,ag as ee,p as te,ah as se,ai as ae,aj as oe,w as q,e as c,b as a,c as d,k as le,F as U,m as z,t as i,ak as re,i as ce}from"./index-CvL64b5B.js";import{V as ne,B as ie,_ as ue}from"./DataNotFound.vue_vue_type_script_setup_true_lang-BjjedNWa.js";import{u as de,A as pe}from"./entity-B3fyVC2k.js";import{_ as fe,s as me}from"./AppPaginator.vue_vue_type_script_setup_true_lang-DVue76vw.js";import{u as ve}from"./app-toast-C0ygo0ES.js";import{u as ge}from"./title-D2a3ovK7.js";import{s as ye}from"./index-CxuldK3J.js";import{a as xe,s as _e}from"./index-C-Iz_ew4.js";import{s as he}from"./index-Dg0_AxQJ.js";import"./Api-0keYiYT7.js";import"./index-DAbN7U77.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-zX5Bf_T0.js";import"./index-BUH4NBEV.js";import"./index-Bbx7aRwr.js";import"./index-qByAEdWs.js";import"./index-BLwqPPNg.js";const G=I({__name:"GetAQuote",setup(C){const{t:o}=M();return(p,f)=>(r(),j(t(L),{type:"button",size:"small",label:t(o)("get_a_quote"),class:"w-full sm:w-auto"},null,8,["label"]))}}),we=J("product-catalog",()=>{const{entities:C,selected:o,meta:p,links:f,loading:k,refetch:S,notFound:E}=de(),{storagePrefix:$}=W(),n=O(`${$}product_catalog_layout_mode`,"grid");return{products:C,selected:o,meta:p,links:f,loading:k,refetch:S,notFound:E,layout:n}}),be={class:"flex w-full flex-col gap-4 md:flex-row md:items-center md:justify-between"},ke={class:"text-lg font-bold"},$e={class:"flex w-full flex-col gap-2 md:w-auto md:flex-row md:items-center md:gap-4"},Ve={class:"flex items-center gap-2"},Be={class:"divide-surface-200 border-y-surface-200 flex flex-col divide-y border-y border-t"},qe={key:0,class:"grid grid-cols-1 gap-4 py-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},je={class:"mt-4 flex-1"},Ce={class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},Se={class:"font-bold"},Ee={class:"text-sm text-gray-600"},Ae={key:1,class:"divide-surface-200 border-y-surface-200 flex flex-col divide-y"},Fe={class:"flex flex-1 flex-col gap-4"},Pe={class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},Re={class:"text-lg font-bold"},Ue={class:"text-sm text-gray-600"},Le={class:"flex justify-end sm:items-end"},tt=I({__name:"ProductCatalogPage",setup(C){const{t:o}=M();ge(o("product_catalog"));const p=Z(),f=ce(),{toastError:k}=ve(),S=X(),E=we(),{user:$}=K(S),{products:n,meta:V,links:N,refetch:T,loading:m,notFound:A,layout:v}=K(E),g=R([]),F=R(null),y=R(null),B=Y(()=>p.query);ee(T,l=>{l&&P(B.value)}),te(()=>{y.value=B.value.search,P(B.value),D(B.value)}),se(()=>{n.value=[],V.value=null,N.value=null}),ae(l=>{const s=l.query;y.value=s.search,P(s),D(s)});const P=async l=>{var s;T.value=!1,A.value=!1,m.value=!0;try{const e=await ne.paginate({...l,customer:(s=$.value.customer)==null?void 0:s.id});n.value=e.data,V.value=e.meta,N.value=e.links,n.value.length<1&&(A.value=!0)}catch(e){k(e.message)}finally{m.value=!1}},D=async l=>{var s;m.value=!0;try{const e=await ie.get({customer:((s=$.value.customer)==null?void 0:s.id)??"88"});g.value=e,g.value.unshift({name:o("all_data",{data:o("category")}),id:0}),F.value=g.value.find(u=>u.id.toString()===l.brand)??g.value[0]}catch(e){k(e.message)}finally{m.value=!1}},Q=()=>{f.push({query:{...p.query,page:void 0,search:y.value}})},H=l=>{f.push({query:{...p.query,page:void 0,brand:l.id===0?void 0:l.id}})};return(l,s)=>(r(),j(t(ye),{"pt:root:class":"flex! flex-col h-full justify-between","pt:content-container:class":"flex! flex-col flex-1","pt:content:class":"flex-1"},oe({header:q(()=>[a("div",be,[a("div",ke,i(t(o)("products")),1),a("div",$e,[c(t(me),{modelValue:F.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>F.value=e),H],options:g.value,"option-label":"name",placeholder:t(o)("choose_data",{data:t(o)("category")}),class:"w-full md:w-auto"},null,8,["modelValue","options","placeholder"]),c(t(_e),{class:"w-full"},{default:q(()=>[c(t(xe),{class:"pi pi-search"}),c(t(he),{modelValue:y.value,"onUpdate:modelValue":s[1]||(s[1]=e=>y.value=e),type:"search",placeholder:t(o)("search_data",{data:t(o)("product")}),class:"w-full",onKeyup:re(Q,["enter"])},null,8,["modelValue","placeholder"])]),_:1}),a("div",Ve,[c(t(L),{icon:"pi pi-bars",outlined:"",severity:t(v)==="list"?"primary":"secondary",onClick:s[2]||(s[2]=e=>v.value="list")},null,8,["severity"]),c(t(L),{icon:"pi pi-th-large",outlined:"",severity:t(v)==="grid"?"primary":"secondary",onClick:s[3]||(s[3]=e=>v.value="grid")},null,8,["severity"])])])])]),default:q(()=>[a("div",Be,[t(n).length?(r(),d(U,{key:0},[t(v)==="grid"?(r(),d("div",qe,[(r(!0),d(U,null,z(t(n),(e,u)=>{var x,_,h,w,b;return r(),d("div",{key:u,class:"flex flex-col justify-between rounded-xl border border-gray-200 p-4 shadow-sm"},[s[4]||(s[4]=a("div",{class:"bg-surface-200 flex aspect-square w-full items-center justify-center rounded text-gray-400"},[a("i",{class:"pi pi-image text-4xl"})],-1)),a("div",je,[a("div",Ce,i((_=(x=e.product)==null?void 0:x.brand)==null?void 0:_.name),1),a("div",Se,i((h=e.product)==null?void 0:h.name)+" - "+i(e.name),1),a("div",Ee,i((b=(w=e.product)==null?void 0:w.product_category)==null?void 0:b.name),1)]),c(G,{class:"mt-4"})])}),128))])):(r(),d("div",Ae,[(r(!0),d(U,null,z(t(n),(e,u)=>{var x,_,h,w,b;return r(),d("div",{key:u,class:"hover:bg-surface-100 flex w-full flex-col gap-4 p-4 sm:flex-row"},[s[5]||(s[5]=a("div",{class:"bg-surface-200 flex aspect-square w-full max-w-[100px] items-center justify-center overflow-hidden rounded"},[a("i",{class:"pi pi-image text-4xl"})],-1)),a("div",Fe,[a("div",Pe,i((_=(x=e.product)==null?void 0:x.brand)==null?void 0:_.name),1),a("div",null,[a("div",Re,i(`${(h=e.product)==null?void 0:h.name} - ${e.name}`),1),a("div",Ue,i((b=(w=e.product)==null?void 0:w.product_category)==null?void 0:b.name),1)])]),a("div",Le,[c(G)])])}),128))]))],64)):t(m)?(r(),j(pe,{key:1})):t(A)?(r(),j(ue,{key:2})):le("",!0)])]),_:2},[t(V)?{name:"footer",fn:q(()=>[c(fe,{meta:t(V)},null,8,["meta"])]),key:"0"}:void 0]),1024))}});export{tt as default};
