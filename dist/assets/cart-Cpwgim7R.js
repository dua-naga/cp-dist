import{ah as g,g as s,B as l,A as m,ai as _}from"./index-BuIkzTbX.js";const O=g("cart",()=>{const{storagePrefix:o}=m(),n=s(null),u=l(()=>`${o}cart-${n.value??"guest"}`),a=_(u,[]),i=s(null),d=s(!1),y=s(""),p=s(!1),I=l(()=>a.value.length),v=l(()=>a.value.filter(e=>e.cartable_type==="order").length),b=l(()=>a.value.filter(e=>e.cartable_type==="inquiry").length),f=l(()=>a.value.reduce((e,t)=>e+t.qty*t.price,0));return{cart:a,externalNumber:i,placingOrder:d,inquiryMessage:y,submittingInquiry:p,totalItems:I,totalOrderItems:v,totalInquiryItems:b,totalPrice:f,userId:n,setUserId:e=>{n.value=e},addItem:e=>{const t=a.value.find(r=>r.cartable_id===e.cartable_id&&r.cartable_type===e.cartable_type);t?(t.name=e.name,t.qty+=e.qty||1):a.value.push({...e,qty:e.qty||1})},removeItem:(e,t)=>{a.value=a.value.filter(r=>!(r.cartable_id===e&&r.cartable_type===t))},clearCart:e=>{a.value=a.value.filter(t=>t.cartable_type!==e)},isItemInCart:e=>{let t="order";return e&&(t="inquiry"),!!a.value.find(c=>c.cartable_id===e.id&&c.cartable_type===t)}}});export{O as u};
