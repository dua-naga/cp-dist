import{ab as i,g as c,ae as l,ad as _,ac as q}from"./index-CvL64b5B.js";const m=i("cart",()=>{const{storagePrefix:o}=_(),s=c(null),n=l(()=>`${o}cart-${s.value??"guest"}`),a=q(n,[]),u=c(null),d=c(!1),p=e=>{s.value=e},v=e=>{const t=a.value.find(r=>r.cartable_id===e.cartable_id&&r.cartable_type===e.cartable_type);t?(t.name=e.name,t.qty+=e.qty||1):a.value.push({...e,qty:e.qty||1})},y=(e,t)=>{a.value=a.value.filter(r=>!(r.cartable_id===e&&r.cartable_type===t))},b=()=>{a.value=[]},f=l(()=>a.value.length),g=l(()=>a.value.reduce((e,t)=>e+t.qty*t.price,0));return{cart:a,externalNumber:u,placingOrder:d,setUserId:p,addItem:v,removeItem:y,clearCart:b,totalItems:f,totalPrice:g,userId:s}});export{m as u};
