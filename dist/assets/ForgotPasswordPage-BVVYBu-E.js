import{h as N,z as $,s as P,a as j}from"./external-BHKkdwsu.js";import{d as z,f as E,g as c,c as L,b as t,e as a,w as l,h as e,j as _,k as g,t as o,l as d,n as C,r as S,p as A,a as p}from"./index-BuIkzTbX.js";import{A as F}from"./Auth-BewR9uMd.js";import{_ as I}from"./AppLogo.vue_vue_type_script_setup_true_lang-Co3iiMYR.js";import{u as R}from"./title-DTf3XjVI.js";import{s as x}from"./index-CMhtJUBl.js";import{s as T,a as q}from"./index-C9JuvMH3.js";import{s as D}from"./index-CgPAqISb.js";import"./Api-D_vvPt4a.js";const M={class:"min-h-dvh overflow-y-auto bg-white p-8 md:p-12 lg:p-24"},U={class:"flex h-full flex-col items-center justify-between gap-16"},W={class:"space-y-2"},G={class:"text-center text-2xl font-bold"},H={class:"flex flex-col gap-1"},J={for:"email"},K={class:"text-center"},oe=z({__name:"ForgotPasswordPage",setup(O){const{t:i}=E();R(i("forgot_password"));const n=c({email:void 0}),f=c(!1),u=c(null),m=c(null),V=N($.object({email:$.string().email()})),B=async y=>{if(y.valid){f.value=!0;try{const{message:s}=await F.forgotPassword(n.value);u.value=s}catch(s){const v=s;m.value=v.message}finally{f.value=!1}}};return(y,s)=>{const v=S("RouterLink");return p(),L("div",M,[t("div",U,[a(I),a(e(P),{"initial-values":n.value,resolver:e(V),class:"mx-auto flex w-full max-w-md flex-col gap-4",onSubmit:B},{default:l(b=>{var w,h,k;return[t("div",W,[t("div",G,o(e(i)("forgot_password")),1),s[3]||(s[3]=t("div",{class:"text-center text-sm text-slate-600"}," Please enter your email account. We will notify a link to reset your password ",-1))]),(w=u.value)!=null&&w.length?(p(),_(e(x),{key:0,severity:"success",icon:"pi pi-check-circle",closable:"",onClose:s[0]||(s[0]=r=>u.value=null)},{default:l(()=>[d(o(u.value),1)]),_:1})):g("",!0),(h=m.value)!=null&&h.length?(p(),_(e(x),{key:1,severity:"error",icon:"pi pi-times-circle",closable:"",onClose:s[1]||(s[1]=r=>m.value=null)},{default:l(()=>[d(o(m.value),1)]),_:1})):g("",!0),t("div",H,[a(e(j),{variant:"in"},{default:l(()=>[a(e(T),null,{default:l(()=>[a(e(q),{class:"pi pi-at"}),a(e(D),{id:"email",modelValue:n.value.email,"onUpdate:modelValue":s[2]||(s[2]=r=>n.value.email=r),name:"email",fluid:""},null,8,["modelValue"])]),_:1}),t("label",J,o(e(i)("email")),1)]),_:1}),(k=b.email)!=null&&k.invalid?(p(),_(e(x),{key:0,severity:"error",size:"small",variant:"simple"},{default:l(()=>[d(o(b.email.error.message),1)]),_:2},1024)):g("",!0)]),a(e(C),{type:"submit",label:e(i)("submit"),loading:f.value},null,8,["label","loading"]),t("div",K,[a(e(C),{link:"","as-child":""},{default:l(r=>[a(v,{to:{name:"auth.login"},class:A([r.class,"hover:underline"])},{default:l(()=>[d(o(e(i)("remember_your_password"))+"? ",1),t("strong",null,o(e(i)("login")),1)]),_:2},1032,["class"])]),_:1})])]}),_:1},8,["initial-values","resolver"]),s[4]||(s[4]=t("div",{class:"text-sm text-slate-600"}," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Impedit, accusamus blanditiis officiis asperiores optio magnam sed provident eum inventore enim ut odio unde a ipsam aliquid porro, facere et totam! ",-1))])])}}});export{oe as default};
