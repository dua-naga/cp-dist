import{d as I,f as M,j,h as t,n as L,a as r,ab as J,ac as O,ad as W,ae as X,u as Y,s as K,g as R,af as Z,ag as ee,ah as te,p as se,ai as ae,aj as oe,ak as le,w as q,e as c,b as a,c as u,k as re,F as U,m as z,t as d,al as ie,i as ce}from"./index-ChONLvXT.js";import{V as ne,B as de,_ as ue}from"./DataNotFound.vue_vue_type_script_setup_true_lang-C1U_liL4.js";import{u as pe,A as fe}from"./entity-CQGiqWbH.js";import{_ as me,s as ve}from"./AppPaginator.vue_vue_type_script_setup_true_lang-BSOK-w8m.js";import{u as ge}from"./title-B0mAHwLg.js";import{s as ye}from"./index-B0G3N2AP.js";import{a as xe,s as _e}from"./index-D-iBg07O.js";import{s as he}from"./index-DNrJJ1ap.js";import"./Api-CpiGTlUC.js";import"./index-Cb3a1vIw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-eK114hG5.js";import"./index-BHwW3_S6.js";import"./index-DhtKmfrD.js";import"./index-BJOeZ_q3.js";import"./index-DCH35Yyf.js";const G=I({__name:"GetAQuote",setup(C){const{t:o}=M();return(p,f)=>(r(),j(t(L),{type:"button",icon:"pi pi-question-circle",size:"small",label:t(o)("get_a_quote"),class:"w-full sm:w-auto"},null,8,["label"]))}}),we=J("product-catalog",()=>{const{entities:C,selected:o,meta:p,links:f,loading:k,refetch:S,notFound:A}=pe(),{storagePrefix:$}=W(),n=O(`${$}product_catalog_layout_mode`,"grid");return{products:C,selected:o,meta:p,links:f,loading:k,refetch:S,notFound:A,layout:n}}),be={class:"flex w-full flex-col gap-4 md:flex-row md:items-center md:justify-between"},ke={class:"text-lg font-bold"},$e={class:"flex w-full flex-col gap-2 md:w-auto md:flex-row md:items-center md:gap-4"},Ve={class:"flex items-center gap-2"},Be={class:"divide-surface-200 border-y-surface-200 flex flex-col divide-y border-y border-t"},qe={key:0,class:"grid grid-cols-1 gap-4 py-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},je={class:"mt-4 flex-1"},Ce={class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},Se={class:"font-bold"},Ae={class:"text-sm text-gray-600"},Ee={key:1,class:"divide-surface-200 border-y-surface-200 flex flex-col divide-y"},Fe={class:"flex flex-1 flex-col gap-4"},Pe={class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},Re={class:"text-lg font-bold"},Ue={class:"text-sm text-gray-600"},Le={class:"flex justify-end sm:items-end"},et=I({__name:"ProductCatalogPage",setup(C){const{t:o}=M();ge(o("product_catalog"));const p=ee(),f=ce(),k=X(),S=Y(),A=we(),{user:$}=K(S),{products:n,meta:V,links:N,refetch:T,loading:m,notFound:E,layout:v}=K(A),g=R([]),F=R(null),y=R(null),B=Z(()=>p.query);te(T,l=>{l&&P(B.value)}),se(()=>{y.value=B.value.search,P(B.value),D(B.value)}),ae(()=>{n.value=[],V.value=null,N.value=null}),oe(l=>{const s=l.query;y.value=s.search,P(s),D(s)});const P=async l=>{var s;T.value=!1,E.value=!1,m.value=!0;try{const e=await ne.paginate({...l,customer:(s=$.value.customer)==null?void 0:s.id});n.value=e.data,V.value=e.meta,N.value=e.links,n.value.length<1&&(E.value=!0)}catch(e){const i=e;k.add({severity:"error",summary:i.message})}finally{m.value=!1}},D=async l=>{var s;m.value=!0;try{const e=await de.get({customer:((s=$.value.customer)==null?void 0:s.id)??"88"});g.value=e,g.value.unshift({name:o("all_data",{data:o("category")}),id:0}),F.value=g.value.find(i=>i.id.toString()===l.brand)??g.value[0]}catch(e){const i=e;k.add({severity:"error",summary:i.message})}finally{m.value=!1}},Q=()=>{f.push({query:{...p.query,page:void 0,search:y.value}})},H=l=>{f.push({query:{...p.query,page:void 0,brand:l.id===0?void 0:l.id}})};return(l,s)=>(r(),j(t(ye),{"pt:root:class":"flex! flex-col h-full justify-between","pt:content-container:class":"flex! flex-col flex-1","pt:content:class":"flex-1"},le({header:q(()=>[a("div",be,[a("div",ke,d(t(o)("products")),1),a("div",$e,[c(t(ve),{modelValue:F.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>F.value=e),H],options:g.value,"option-label":"name",placeholder:t(o)("choose_data",{data:t(o)("category")}),class:"w-full md:w-auto"},null,8,["modelValue","options","placeholder"]),c(t(_e),{class:"w-full"},{default:q(()=>[c(t(xe),{class:"pi pi-search"}),c(t(he),{modelValue:y.value,"onUpdate:modelValue":s[1]||(s[1]=e=>y.value=e),type:"search",placeholder:t(o)("search_data",{data:t(o)("product")}),class:"w-full",onKeyup:ie(Q,["enter"])},null,8,["modelValue","placeholder"])]),_:1}),a("div",Ve,[c(t(L),{icon:"pi pi-bars",outlined:"",severity:t(v)==="list"?"primary":"secondary",onClick:s[2]||(s[2]=e=>v.value="list")},null,8,["severity"]),c(t(L),{icon:"pi pi-th-large",outlined:"",severity:t(v)==="grid"?"primary":"secondary",onClick:s[3]||(s[3]=e=>v.value="grid")},null,8,["severity"])])])])]),default:q(()=>[a("div",Be,[t(n).length?(r(),u(U,{key:0},[t(v)==="grid"?(r(),u("div",qe,[(r(!0),u(U,null,z(t(n),(e,i)=>{var x,_,h,w,b;return r(),u("div",{key:i,class:"flex flex-col justify-between rounded-xl border border-gray-200 p-4 shadow-sm"},[s[4]||(s[4]=a("div",{class:"bg-surface-200 flex aspect-square w-full items-center justify-center rounded text-gray-400"},[a("i",{class:"pi pi-image text-4xl"})],-1)),a("div",je,[a("div",Ce,d((_=(x=e.product)==null?void 0:x.brand)==null?void 0:_.name),1),a("div",Se,d((h=e.product)==null?void 0:h.name)+" - "+d(e.name),1),a("div",Ae,d((b=(w=e.product)==null?void 0:w.product_category)==null?void 0:b.name),1)]),c(G,{class:"mt-4"})])}),128))])):(r(),u("div",Ee,[(r(!0),u(U,null,z(t(n),(e,i)=>{var x,_,h,w,b;return r(),u("div",{key:i,class:"hover:bg-surface-100 flex w-full flex-col gap-4 p-4 sm:flex-row"},[s[5]||(s[5]=a("div",{class:"bg-surface-200 flex aspect-square w-full max-w-[100px] items-center justify-center overflow-hidden rounded"},[a("i",{class:"pi pi-image text-4xl"})],-1)),a("div",Fe,[a("div",Pe,d((_=(x=e.product)==null?void 0:x.brand)==null?void 0:_.name),1),a("div",null,[a("div",Re,d(`${(h=e.product)==null?void 0:h.name} - ${e.name}`),1),a("div",Ue,d((b=(w=e.product)==null?void 0:w.product_category)==null?void 0:b.name),1)])]),a("div",Le,[c(G)])])}),128))]))],64)):t(m)?(r(),j(fe,{key:1})):t(E)?(r(),j(ue,{key:2})):re("",!0)])]),_:2},[t(V)?{name:"footer",fn:q(()=>[c(me,{meta:t(V)},null,8,["meta"])]),key:"0"}:void 0]),1024))}});export{et as default};
